<Window x:Class="BTimeLogger.Wpf.View.CreateReportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BTimeLogger.Wpf.View"
        mc:Ignorable="d"
        Title="CreateReportWindow"
        MinHeight="430"
        MinWidth="350"
        Height="450"
        Width="500"
        WindowStyle="None">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32"
                      ResizeBorderThickness="{x:Static SystemParameters.WindowResizeBorderThickness}" />
    </WindowChrome.WindowChrome>
    <Border Padding="50"
            DataContext="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:CreateReportWindow}}}"
            Background="{StaticResource skinBackgroundLightBrush}">
        <StackPanel Orientation="Vertical">
            <StackPanel.Resources>
                <Style TargetType="{x:Type DatePicker}" BasedOn="{StaticResource DatePickerStyle}">
                    <Setter Property="Margin"
                            Value="0 0 0 20" />
                    <Setter Property="CalendarStyle"
                            Value="{StaticResource DatePickerCalendarStyle}" />
                </Style>
                <Style TargetType="{x:Type local:FilePicker}">
                    <Setter Property="Margin"
                            Value="0 0 0 20" />
                </Style>
            </StackPanel.Resources>

            <TextBlock Text="{StaticResource createReport}" FontSize="25"
                       Foreground="{StaticResource skinFontBrush}"
                       HorizontalAlignment="Center" Margin="20"/>

            <TextBlock Text="{StaticResource loading}"
                       HorizontalAlignment="Center"
                       Foreground="{StaticResource skinFontSecondaryBrush}"
                       Visibility="{Binding ViewModel.Loading, Converter={StaticResource boolToVis}}" />

            <TextBlock Text="{StaticResource invalidReport}"
                       HorizontalAlignment="Center"
                       Foreground="{StaticResource skinFontWarningBrush}"
                       Visibility="{Binding ViewModel.InvalidReportInfo, Converter={StaticResource boolToVis}}" />
            
            <!--TODO: default date picker/calendar styles not being applied-->
            <DatePicker SelectedDate="{Binding ViewModel.FromDate}"
                        Text="{StaticResource fromDate}" />
            <DatePicker SelectedDate="{Binding ViewModel.ToDate}"
                        Text="{StaticResource toDate}" />


            <local:FilePicker Description="Intervals Report Location (.csv)"
                              Text="{Binding ViewModel.IntervalsCsvLocation, Mode=TwoWay}" />

            <local:FilePicker Description="Statistics Report Location (.csv)"
                              Text="{Binding ViewModel.StatisticsCsvLocation, Mode=TwoWay}" />

            <Grid >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Button Command="{Binding ViewModel.CancelCommand}"
                        Content="{StaticResource cancel}" Margin="0 0 10 0"/>
                <Button Grid.Column="1"
                        Margin="10 0 0 0"
                    Command="{Binding ViewModel.CreateReportCommand}"
                        Content="{StaticResource create}" />
            </Grid>
        </StackPanel>
    </Border>
</Window>
